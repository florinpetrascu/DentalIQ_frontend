{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\40753\\\\source\\\\Facultate\\\\Semestrul_5\\\\ProiectareaProdInovative\\\\DentalIQ_frontend\\\\src\\\\components\\\\patient\\\\Patients.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport PatientTable from '../table/PatientTable.js';\nimport \"./Patients.css\";\nimport AddPatientForm from './AddPatientForm.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Patients = () => {\n  _s();\n  const [patients, setPatients] = useState([]);\n  useEffect(() => {\n    fetchPatients();\n  }, []);\n  useEffect(() => {\n    console.log(\"Patients updated:\", patients);\n  }, [patients]);\n  const fetchPatients = async () => {\n    try {\n      const response = await axios.get('/api/patients');\n      console.log(\"API Response:\", response.data); // Debugging\n\n      if (Array.isArray(response.data)) {\n        setPatients(response.data);\n        console.log(\"Patients aici\");\n        console.log(patients);\n      } else {\n        console.error(\"Unexpected API response:\", response.data);\n        setPatients([]); // Evită erorile\n      }\n    } catch (error) {\n      console.error(\"Error fetching patients:\", error);\n      setPatients([]); // Evită erorile\n    }\n  };\n  const handleAddPatient = newPatient => {\n    setPatients([...patients, newPatient]);\n  };\n  const [searchTerm, setSearchTerm] = useState('');\n  const handleSearch = event => {\n    setSearchTerm(event.target.value);\n  };\n  const filteredPatients = Array.isArray(patients) ? patients.filter(patient => {\n    var _patient$firstName, _patient$lastName, _patient$phoneNumber;\n    return ((_patient$firstName = patient.firstName) === null || _patient$firstName === void 0 ? void 0 : _patient$firstName.toLowerCase().includes(searchTerm.toLowerCase())) || ((_patient$lastName = patient.lastName) === null || _patient$lastName === void 0 ? void 0 : _patient$lastName.toLowerCase().includes(searchTerm.toLowerCase())) || ((_patient$phoneNumber = patient.phoneNumber) === null || _patient$phoneNumber === void 0 ? void 0 : _patient$phoneNumber.includes(searchTerm));\n  }) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"search-bar\",\n        type: \"text\",\n        placeholder: \"Filter\",\n        value: searchTerm,\n        onChange: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PatientTable, {\n        patients: filteredPatients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-content\",\n      children: /*#__PURE__*/_jsxDEV(AddPatientForm, {\n        onAddPatient: handleAddPatient\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(Patients, \"h/b5R6gRkreBgVK8xklm614jCJc=\");\n_c = Patients;\nexport default Patients;\nvar _c;\n$RefreshReg$(_c, \"Patients\");","map":{"version":3,"names":["React","useState","useEffect","axios","PatientTable","AddPatientForm","jsxDEV","_jsxDEV","Patients","_s","patients","setPatients","fetchPatients","console","log","response","get","data","Array","isArray","error","handleAddPatient","newPatient","searchTerm","setSearchTerm","handleSearch","event","target","value","filteredPatients","filter","patient","_patient$firstName","_patient$lastName","_patient$phoneNumber","firstName","toLowerCase","includes","lastName","phoneNumber","className","children","type","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onAddPatient","_c","$RefreshReg$"],"sources":["C:/Users/40753/source/Facultate/Semestrul_5/ProiectareaProdInovative/DentalIQ_frontend/src/components/patient/Patients.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport PatientTable from '../table/PatientTable.js';\r\nimport \"./Patients.css\";\r\nimport AddPatientForm from './AddPatientForm.js';\r\n\r\n\r\nconst Patients = () => {\r\n  const [patients, setPatients] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchPatients();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Patients updated:\", patients);\r\n  }, [patients]);\r\n  \r\n  const fetchPatients = async () => {\r\n    try {\r\n      const response = await axios.get('/api/patients');\r\n      console.log(\"API Response:\", response.data); // Debugging\r\n\r\n      if (Array.isArray(response.data)) {\r\n        setPatients(response.data);\r\n        console.log(\"Patients aici\");\r\n        console.log(patients);\r\n      } else {\r\n        console.error(\"Unexpected API response:\", response.data);\r\n        setPatients([]); // Evită erorile\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching patients:\", error);\r\n      setPatients([]); // Evită erorile\r\n    }\r\n  };\r\n\r\n  const handleAddPatient = (newPatient) => {\r\n    setPatients([...patients, newPatient]);\r\n  };\r\n\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchTerm(event.target.value);\r\n  };\r\n\r\n\r\n\r\n  const filteredPatients = Array.isArray(patients) ? patients.filter(patient =>\r\n      patient.firstName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      patient.lastName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      patient.phoneNumber?.includes(searchTerm)\r\n  ) : [];\r\n\r\n  return (\r\n    <div className='main-content'>\r\n\r\n      <div className=\"left-content\">\r\n\r\n        <input className=\"search-bar\"\r\n          type=\"text\"\r\n          placeholder=\"Filter\"\r\n          value={searchTerm}\r\n          onChange={handleSearch}\r\n        />\r\n\r\n        <PatientTable patients={filteredPatients} />\r\n\r\n      </div>\r\n\r\n      <div className=\"right-content\">\r\n        <AddPatientForm onAddPatient={handleAddPatient} />\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default Patients;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}